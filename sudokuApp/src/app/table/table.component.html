<p>
  table works!
</p>

<h2>Hello from Baar</h2>

<h1>TABLE</h1>
<!-- <input type="text" [(ngModel)]="test"> -->

<table id="customers">
  <tbody>
    <tr *ngFor="let row of tableArr | keyvalue, let rowIndex = index">
      <!-- row: {{row}} -->
      <!-- rowKey: {{row.key}} -->
      <!-- rowIndex: {{rowIndex}} -->
        <ng-container *ngFor="let el of transferToArr(row.value) , let col =  index" >
        
          <!-- arr: {{tableArr['b']}} -->
          <!-- el: {{el}} -->
          <ng-container *ngIf="col < 3">
            <td (click)="showInput($event)" id="{{getTdId(rowIndex, col)}}"  *ngIf="checkRowIndex(rowIndex, 0, 3, 6 )"><input *ngIf="openedId == getTdId(rowIndex, col)" [(ngModel)]="tableArr[getName(rowIndex  )][getKeyValue(tableArr[getName(rowIndex )], col  )]"> <div *ngIf="openedId != getTdId(rowIndex, col)">{{getTdValue(rowIndex, col)}}</div> </td>
            <td (click)="showInput($event)" id="{{getTdId(rowIndex -1, col + 3)}}" *ngIf="checkRowIndex(rowIndex, 1, 4, 7 )"><input  *ngIf="openedId == getTdId(rowIndex -1 , col + 3)" [(ngModel)]="tableArr[getName(rowIndex -1)][getKeyValue(tableArr[getName(rowIndex -1)], col + 3 )]"><div *ngIf="openedId != getTdId(rowIndex -1 , col + 3)">{{getTdValue(rowIndex-1, col+3)}}</div></td>
            <td (click)="showInput($event)" id="{{getTdId(rowIndex -2, col + 6)}}" *ngIf="checkRowIndex(rowIndex, 2, 5, 8 )"><input *ngIf="openedId == getTdId(rowIndex -2, col+6)" [(ngModel)]="tableArr[getName(rowIndex -2)][getKeyValue(tableArr[getName(rowIndex -2)], col + 6 )]"><div *ngIf="openedId != getTdId(rowIndex -2, col+6)">{{getTdValue(rowIndex-2, col+6)}}</div></td>
          </ng-container>
          <ng-container *ngIf="col > 2 && col < 6">
            <td (click)="showInput($event)" id="{{getTdId(rowIndex + 1, col -3)}}" *ngIf="checkRowIndex(rowIndex, 0, 3, 6 )"><input *ngIf="openedId == getTdId(rowIndex + 1, col -3)" [(ngModel)]="tableArr[getName(rowIndex + 1)][getKeyValue(tableArr[getName(rowIndex + 1)], col - 3 )]"><div *ngIf="openedId != getTdId(rowIndex + 1, col -3)">{{getTdValue(rowIndex+1, col-3)}}</div></td>
            <td (click)="showInput($event)" id="{{getTdId(rowIndex, col)}}" *ngIf="checkRowIndex(rowIndex, 1, 4, 7 )"><input *ngIf="openedId == getTdId(rowIndex, col)" [(ngModel)]="tableArr[getName(rowIndex    )][getKeyValue(tableArr[getName(rowIndex    )], col  )]"><div *ngIf="openedId != getTdId(rowIndex, col)">{{getTdValue(rowIndex, col)}}</div></td>
            <td (click)="showInput($event)" id="{{getTdId(rowIndex -1, col + 3)}}" *ngIf="checkRowIndex(rowIndex, 2, 5, 8 )"><input  *ngIf="openedId == getTdId(rowIndex -1, col +3)" [(ngModel)]="tableArr[getName(rowIndex - 1)][getKeyValue(tableArr[getName(rowIndex - 1)], col + 3 )]"><div *ngIf="openedId != getTdId(rowIndex -1, col +3)">{{getTdValue(rowIndex-1, col+3)}}</div></td>
          </ng-container>
          <ng-container *ngIf="col > 5 && col < 9">
            <td (click)="showInput($event)" id="{{getTdId(rowIndex + 2, col -6)}}" *ngIf="checkRowIndex(rowIndex, 0, 3, 6 )"><input *ngIf="openedId == getTdId(rowIndex + 2, col -6)" [(ngModel)]="tableArr[getName(rowIndex + 2)][getKeyValue(tableArr[getName(rowIndex + 2)], col - 6 )]"><div *ngIf="openedId != getTdId(rowIndex + 2, col -6)">{{getTdValue(rowIndex+2, col-6)}}</div></td>
            <td (click)="showInput($event)" id="{{getTdId(rowIndex + 1 , col - 3)}}" *ngIf="checkRowIndex(rowIndex, 1, 4, 7 )"><input *ngIf="openedId == getTdId(rowIndex + 1, col - 3)" [(ngModel)]="tableArr[getName(rowIndex + 1)][getKeyValue(tableArr[getName(rowIndex + 1)], col - 3 )]"><div *ngIf="openedId != getTdId(rowIndex + 1, col - 3)">{{getTdValue(rowIndex + 1, col - 3)}}</div></td>
            <td (click)="showInput($event)" id="{{getTdId(rowIndex, col)}}" *ngIf="checkRowIndex(rowIndex, 2, 5, 8 )"><input *ngIf="openedId == getTdId(rowIndex, col)" [(ngModel)]="tableArr[getName(rowIndex)][getKeyValue(tableArr[getName(rowIndex)], col)]"><div *ngIf="openedId != getTdId(rowIndex, col )">{{getTdValue(rowIndex, col)}}</div></td>
          </ng-container>
        </ng-container>
    </tr>
  </tbody>
</table>